# 悲观锁和乐观锁

## 1. 悲观锁

![image-20210723150256029](D:\Tutorial\Redis\image\image-20210723150256029.png)

## 2. 乐观锁

![image-20210723150313178](D:\Tutorial\Redis\image\image-20210723150313178.png)

**举例：抢票属于典型的乐观锁**

所有人都能看到有票，但是真正获得票的只有一个，属于严格的多读但是只有一个人写的情况

### 3. watch key 

使用watch等于说对指定key 加上了乐观锁，watch之后，事务开始执行之前发现这个key的值被改变了，就会打断事务

![image-20210723151440702](D:\Tutorial\Redis\image\image-20210723151440702.png)
